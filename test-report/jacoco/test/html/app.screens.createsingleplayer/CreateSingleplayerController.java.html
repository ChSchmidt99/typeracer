<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>CreateSingleplayerController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">typeracer</a> &gt; <a href="index.source.html" class="el_package">app.screens.createsingleplayer</a> &gt; <span class="el_source">CreateSingleplayerController.java</span></div><h1>CreateSingleplayerController.java</h1><pre class="source lang-java linenums">package app.screens.createsingleplayer;

import app.IconManager;
import app.screens.singleplayer.SingleplayerController;
import app.screens.singleplayer.SingleplayerModel;
import app.screens.singleplayer.SingleplayerView;
import app.screens.start.StartScreenController;
import app.screens.start.StartScreenModel;
import app.screens.start.StartScreenView;
import database.TextDatabase;
import java.io.FileNotFoundException;
import java.io.IOException;
import protocol.RaceDataSingleplayer;

/** Controller for Singleplayer Create screen. */
public class CreateSingleplayerController {

  private final CreateSingleplayerModel model;
  private final CreateSingleplayerView view;

  /**
   * Creates new controller and shows view for singleplayer.
   *
   * @param model to fill view with
   * @param view that will be shown
   */
  public CreateSingleplayerController(CreateSingleplayerModel model, CreateSingleplayerView view)
<span class="nc" id="L28">      throws FileNotFoundException {</span>
<span class="nc" id="L29">    this.view = view;</span>
<span class="nc" id="L30">    this.model = model;</span>
<span class="nc" id="L31">    bindButtons(view);</span>
<span class="nc" id="L32">    view.show();</span>
<span class="nc" id="L33">  }</span>

  private void bindButtons(CreateSingleplayerView view) throws FileNotFoundException {
<span class="nc" id="L36">    view.getStartButton()</span>
<span class="nc" id="L37">        .setOnAction(</span>
            actionEvent -&gt; {
              try {
<span class="nc" id="L40">                clickedStart();</span>
<span class="nc" id="L41">              } catch (IOException e) {</span>
<span class="nc" id="L42">                e.printStackTrace();</span>
<span class="nc" id="L43">              }</span>
<span class="nc" id="L44">            });</span>
<span class="nc" id="L45">    view.getBackButton().setOnAction(actionEvent -&gt; clickedBack());</span>
<span class="nc" id="L46">    view.getUsernameLabel().setText(&quot;User: &quot; + model.name);</span>
<span class="nc" id="L47">    view.getUsericon().setImage(IconManager.iconForId(model.iconId).getImage());</span>
<span class="nc" id="L48">  }</span>

  private void clickedBack() {
<span class="nc" id="L51">    StartScreenView view = new StartScreenView(this.view.getStage());</span>
<span class="nc" id="L52">    new StartScreenController(new StartScreenModel(), view);</span>
<span class="nc" id="L53">  }</span>

  private void clickedStart() throws IOException {
<span class="nc" id="L56">    new SingleplayerController(</span>
        new SingleplayerModel(
<span class="nc" id="L58">            new RaceDataSingleplayer(new TextDatabase().getPhrase(), 0, model.name, model.iconId)),</span>
<span class="nc" id="L59">        new SingleplayerView(view.getStage()));</span>
<span class="nc" id="L60">  }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.6.202009150832</span></div></body></html>